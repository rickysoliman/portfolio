<section class="contact-wrapper">
  <h1 class="section-header">Contact Me</h1>

  <form
    name="contact"
    class="contact-form"
    method="POST"
    netlify
    netlify-honeypot="bot-field"
    [formGroup]="contactFormGroup"
    (ngSubmit)="onSubmit($event)"
    novalidate
  >
    <!-- Netlify Hidden Form Name -->
    <input type="hidden" name="form-name" value="contact" />

    <!-- Honeypot field for bots -->
    <p class="hidden">
      <label>Donâ€™t fill this out: <input name="bot-field" /></label>
    </p>

    <!-- Name -->
    <label for="name" class="required">Name</label>
    <div class="input-wrapper">
      <input
        type="text"
        id="name"
        name="name"
        formControlName="name"
        required
      />
    </div>
    <div
      class="error"
      *ngIf="
        contactFormGroup.get('name')?.invalid &&
        contactFormGroup.get('name')?.touched
      "
    >
      <small *ngIf="contactFormGroup.get('name')?.errors?.required">
        Name is required.
      </small>
    </div>

    <!-- Email -->
    <label for="email" class="required">Email</label>
    <div class="input-wrapper">
      <input
        type="email"
        id="email"
        name="email"
        formControlName="email"
        required
      />
    </div>
    <div
      class="error"
      *ngIf="
        contactFormGroup.get('email')?.invalid &&
        contactFormGroup.get('email')?.touched
      "
    >
      <small *ngIf="contactFormGroup.get('email')?.errors?.required">
        Email is required.
      </small>
      <small *ngIf="contactFormGroup.get('email')?.errors?.email">
        Please enter a valid email address.
      </small>
    </div>

    <!-- Message -->
    <label for="message" class="required">Message</label>
    <div class="input-wrapper">
      <textarea
        id="message"
        name="message"
        rows="6"
        formControlName="message"
        required
      ></textarea>
    </div>
    <div
      class="error"
      *ngIf="
        contactFormGroup.get('message')?.invalid &&
        contactFormGroup.get('message')?.touched
      "
    >
      <small *ngIf="contactFormGroup.get('message')?.errors?.required">
        Message is required.
      </small>
    </div>

    <!-- Submit -->
    <button type="submit">Send Message</button>
  </form>
</section>

<!-- Hidden static form for Netlify build-time detection -->
<form name="contact" netlify netlify-honeypot="bot-field" hidden>
  <input type="text" name="name" />
  <input type="email" name="email" />
  <textarea name="message"></textarea>
</form>
